<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Transcendence Pong{% endblock %}</title>
    {% load static %}
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'styles/index.css' %}"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <header class="header">
      <h1>Welcome to Transcendence Pong</h1>
    </header>
    <nav class="nav">
      <a href="#" onclick="loadContent(''); return false;">Home</a>
      <a href="#" onclick="loadContent('play/'); return false;">Play</a>
      <a href="#" onclick="loadContent('tournaments/'); return false;"
        >Tournaments</a
      >
    </nav>

    <main class="main" id="content">

      {% block content %}
      <!-- Content will be overridden by each child template -->
      {% endblock %}
    </main>

    <footer class="footer">
      <p>&copy; 2024 Transcendence Pong.</p>
      <ul class="footer-links">
        <li>
          <a
            href="https://github.com/demenciel"
            target="_blank"
            class="github-link"
            ><i class="fa-brands fa-github"></i> acouture</a
          >
        </li>
        <li>
          <a
            href="https://github.com/TwindZ"
            target="_blank"
            class="github-link"
            ><i class="fa-brands fa-github"></i> emlamoth</a
          >
        </li>
        <li>
          <a
            href="https://github.com/Prezcoder"
            target="_blank"
            class="github-link"
            ><i class="fa-brands fa-github"></i> fbouchar</a
          >
        </li>
        <li>
          <a
            href="https://github.com/LaOuede"
            target="_blank"
            class="github-link"
            ><i class="fa-brands fa-github"></i> gle-roux</a
          >
        </li>
        <li>
          <a
            href="https://github.com/Mehourka"
            target="_blank"
            class="github-link"
            ><i class="fa-brands fa-github"></i> kmehour</a
          >
        </li>
      </ul>
    </footer>
  </body>
  <script>
    function loadContent(path) {
      fetch("/" + path, {
        headers: {
          "X-Requested-With": "XMLHttpRequest",
        },
      })
        .then((response) => response.text())
        .then((html) => {
          document.querySelector(".main").innerHTML = html; // Ensure this selector matches your content area
          history.pushState({ path: path }, "", "/" + path);
        });
    }

    window.onpopstate = function (event) {
      if (event.state) {
        loadContent(event.state.path);
      }
    };
  </script>
</html>
